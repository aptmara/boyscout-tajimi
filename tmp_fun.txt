function applyUnitLogos() {
  try {
    const logos = {
      beaver: 'https://drive.usercontent.google.com/uc?export=view&id=1LKO_6YETXriZEw4xvUl7JwPEI0D98kuC',
      cub: 'https://drive.usercontent.google.com/uc?export=view&id=1RvqNJOEjG-OXUeydNNuqX2nf81Jz2db7',
      boy: 'https://drive.usercontent.google.com/uc?export=view&id=1ltXHHnuIVMS2y_0qTvxE0vCSSJEnWJof',
      venture: 'https://drive.usercontent.google.com/uc?export=view&id=10p_pcQyjG14WvptqyDepEhr-bMWHLFHg',
      rover: 'https://drive.usercontent.google.com/uc?export=view&id=1An9jXkpY25igqg7MpqFuAlFXMLrqEECa'
    };

    const path = (location.pathname || '').toLowerCase();

    // 1) トップのユニットカード（順番: ビーバー, カブ, ボーイ, ベンチャー, ローバー）
    const unitsSection = document.getElementById('units');
    if (unitsSection) {
      const imgs = unitsSection.querySelectorAll('.tilt-card-effect img');
      const order = [logos.beaver, logos.cub, logos.boy, logos.venture, logos.rover];
      for (let i = 0; i < Math.min(imgs.length, order.length); i++) {
        if (order[i]) imgs[i].src = order[i];
      }
    }

    // 2) 各隊ページの「隊章」画像
    const unitPathMap = {
      'unit-beaver.html': 'beaver',
      'unit-cub.html': 'cub',
      'unit-boy.html': 'boy',
      'unit-venture.html': 'venture',
      'unit-rover.html': 'rover',
    };
    for (const [file, key] of Object.entries(unitPathMap)) {
      if (path.endsWith('/' + file) || path.endsWith(file)) {
        const img = document.querySelector('img[alt*="隊章"]');
        if (img && logos[key]) img.src = logos[key];
        break;
      }
    }
  } catch (e) {
    console.error('Failed to apply unit logos:', e);
  }
}
