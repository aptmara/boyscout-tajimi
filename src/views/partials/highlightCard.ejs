<%
// このパーシャルは、以下のプロパティを持つ`card`オブジェクトを期待します:
// card.imageUrl (string)
// card.altText (string)
// card.dateText (string, optional)
// card.badges (array of objects {text, className}, optional)
// card.title (string)
// card.detailUrl (string)
// card.summary (string)
// card.ctaText (string)
%>
<div class="bg-white rounded-xl shadow-xl overflow-hidden card-hover-effect group">
  <div class="relative">
    <img src="<%= card.imageUrl %>" alt="<%= card.altText %>" class="w-full h-60 object-cover transition-transform duration-500 group-hover:scale-110" loading="lazy">
    <%# 画像の上に重ねるオーバーレイ %>
    <div class="absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors duration-300"></div>
  </div>
  <div class="p-6">
    <% if ((card.dateText && card.dateText.length > 0) || (card.badges && card.badges.length > 0)) { %>
      <div class="flex items-center justify-between gap-3 mb-2">
        <% if (card.dateText && card.dateText.length > 0) { %>
          <p class="text-sm text-gray-500"><%= card.dateText %></p>
        <% } %>
        <% if (card.badges && card.badges.length > 0) { %>
          <div class="flex flex-wrap gap-2">
            <% card.badges.forEach(badge => { %>
              <span class="<%= badge.className %>"><%= badge.text %></span>
            <% }) %>
          </div>
        <% } %>
      </div>
    <% } %>
    <h3 class="text-2xl font-semibold mb-3">
      <a href="<%= card.detailUrl %>" class="hover:text-green-700 transition-colors"><%= card.title %></a>
    </h3>
    <p class="text-gray-700 mb-4 leading-relaxed line-clamp-3"><%- card.summary %></p>
    <a href="<%= card.detailUrl %>" class="inline-block text-green-600 hover:text-green-800 font-semibold transition-colors duration-300 group"><%= card.ctaText %> <span class="transition-transform duration-300 inline-block group-hover:translate-x-1">&rarr;</span></a>
  </div>
</div>